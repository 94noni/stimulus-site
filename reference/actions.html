<!doctype html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Stimulus Reference</title>
  <link rel="canonical" href="https://stimulus.hotwired.dev/reference/actions">

  <link rel="alternate icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
  <link rel="mask-icon" href="/assets/favicon.svg" color="#000000">
  <link rel="apple-touch-icon" href="/assets/favicon-196x196.png">

  <link rel="preload" href="/assets/fonts/Bitter-Roman.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/Bitter-Italic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/Jost-Roman.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/Jost-Italic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/RobotoMono-Roman.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/RobotoMono-Italic.woff2" as="font" type="font/woff2" crossorigin>

  <link rel="stylesheet" href="/assets/main.css">
  <script src="/assets/main.js" type="module"></script>
  <script async defer data-domain="stimulus.hotwired.dev" src="https://plausible.io/js/plausible.js"></script>
</head>


  <body>

    <a class="nav-skip" href="#content">Skip to content</a>

<nav class="jump">
  <ul class="jump__list">
    <li><a class="jump__list-link jump__list-link--hotwire" href="https://hotwired.dev">Hotwire:</a></li>
    <li><a class="jump__list-link" href="https://turbo.hotwired.dev">Turbo</a></li>
    <li><a class="jump__list-link jump__list-link--active" href="https://stimulus.hotwired.dev">Stimulus</a></li>
    <li><span class="jump__list-link jump__list-link--disabled">Strada <span class="jump__list-info">(Coming Soon!)</span></span></li>
  </ul>
</nav>


    <div class="nav__github-corner">
  <svg width="60" height="60" viewBox="0 0 250 250" version="1.1" xmlns="github-corner"
	style="fill:#000000; color:#FFFFFF;"
	aria-hidden="true">
	<a href="https://github.com/hotwired/stimulus/tree/main/docs/./reference/actions.md" target="_blank" class="github-corner">
	<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
	<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
		fill="#FFFFFF" style="transform-origin: 130px 106px;" class="octo-arm">
	</path>
	<path
		d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="#FFFFFF" class="octo-body">
	</path>
</a>
</svg>
</div>

<main class="grid docs">

  <header class="docs__index grid__custom-item">
    <a class="nav-logo" href="/" aria-label="Stimulus">
  <svg class="logo" viewBox="0 0 372.93 60.02" xmlns="http://www.w3.org/2000/svg">
  <g class="logo__icon" fill="#d9c6a4">
    <path d="m51.56 33.56h-3.91a7.71 7.71 0 0 0 -3.29.9l-27 15.86a7.52 7.52 0 0 1 -3.28.9h-14.08v7.06a1.77 1.77 0 0 0 1.76 1.72h56.48a1.77 1.77 0 0 0 1.76-1.75v-7.06h-14.12a7.52 7.52 0 0 1 -3.28-.9l-8.08-4.74a1 1 0 0 1 0-1.79l3.84-2.25a3.27 3.27 0 0 1 3 0l3 1.74a7.57 7.57 0 0 0 3.29.9h12.35v-10.59z"/><path d="m51.56 15.88h-3.91a7.71 7.71 0 0 0 -3.29.9l-27 15.87a7.66 7.66 0 0 1 -3.28.9h-14.08v10.59h12.35a7.71 7.71 0 0 0 3.29-.9l27-15.87a7.66 7.66 0 0 1 3.28-.9h14.08v-10.59z"/><path d="m58.24 0h-56.48a1.76 1.76 0 0 0 -1.76 1.76v7.06h14.12a7.66 7.66 0 0 1 3.28.9l8.08 4.75a1 1 0 0 1 0 1.78l-3.84 2.26a3.27 3.27 0 0 1 -3 0l-3-1.75a7.71 7.71 0 0 0 -3.29-.9h-12.35v10.59h12.35a7.57 7.57 0 0 0 3.29-.9l27-15.86a7.52 7.52 0 0 1 3.28-.9h14.08v-7.06a1.76 1.76 0 0 0 -1.76-1.73z"/>
  </g>
  <g class="logo__wordmark" fill="#000">
    <path d="m108.44 6.17a8.2 8.2 0 0 0 -3.63-1.5 28.17 28.17 0 0 0 -4.91-.39h-9a30.08 30.08 0 0 0 -5 .39 11.92 11.92 0 0 0 -4.18 1.51 9.62 9.62 0 0 0 -3.12 3.13 14.16 14.16 0 0 0 -1.82 5.19l-1.46 8.42a13.23 13.23 0 0 0 -.1 5.37 5.9 5.9 0 0 0 1.92 3.24 8 8 0 0 0 3.7 1.61 27.31 27.31 0 0 0 5.21.44h8.49l-1.54 8.8h-8.65l.88-5.06-13.48 1.77-.54 3.22a14.25 14.25 0 0 0 -.12 5.33 5.74 5.74 0 0 0 1.84 3.24 7.61 7.61 0 0 0 3.61 1.6 28.34 28.34 0 0 0 5.16.42h10.22a30 30 0 0 0 5.25-.42 11.43 11.43 0 0 0 4.19-1.6 9.7 9.7 0 0 0 3.09-3.26 15.68 15.68 0 0 0 1.84-5.34l1.56-9a11.87 11.87 0 0 0 0-5.2 5.72 5.72 0 0 0 -2.16-3.08 8.86 8.86 0 0 0 -3.82-1.5 31.15 31.15 0 0 0 -5.16-.39h-8.49l1.43-8.28h7.77l-.74 4.45 13.24-1.67.54-3.15a11.46 11.46 0 0 0 0-5.18 5.73 5.73 0 0 0 -2.02-3.11z"/><path d="m150.46 4.83h-35.25l-2.1 12.05h10.73l-6.18 35.48h13.78l6.18-35.48h10.73z"/><path d="m154.4 4.83-8.29 47.53h13.79l8.28-47.53z"/><path d="m205.94 4.83-13.38 18.84-7.37-18.84h-10.29l-8.28 47.53h11.92l4.27-24.51 6.22 16.57 11.75-16.91-4.35 24.85h13.82l8.28-47.53z"/><path d="m246.88 4.83-6.24 35.89h-8.12l6.25-35.89h-13.77l-6.52 37.51a13.58 13.58 0 0 0 -.08 5.34 5.74 5.74 0 0 0 1.93 3.24 8.2 8.2 0 0 0 3.74 1.59 28.12 28.12 0 0 0 5.21.43h10.29a31.14 31.14 0 0 0 5.43-.43 11.7 11.7 0 0 0 4.3-1.59 9.62 9.62 0 0 0 3.09-3.24 15.83 15.83 0 0 0 1.81-5.34l6.5-37.51z"/><path d="m280.94 4.83h-13.79l-8.28 47.53h28.59l2.1-12.05h-14.8z"/><path d="m321.41 4.83-6.25 35.89h-8.11l6.25-35.89h-13.79l-6.51 37.51a13.58 13.58 0 0 0 -.08 5.34 5.69 5.69 0 0 0 1.93 3.24 8.16 8.16 0 0 0 3.74 1.59 28 28 0 0 0 5.21.43h10.28a31.18 31.18 0 0 0 5.44-.43 11.58 11.58 0 0 0 4.29-1.59 9.44 9.44 0 0 0 3.09-3.24 15.83 15.83 0 0 0 1.82-5.34l6.52-37.51z"/><path d="m372.65 9.26a5.74 5.74 0 0 0 -2-3.09 8.2 8.2 0 0 0 -3.65-1.5 28.09 28.09 0 0 0 -4.91-.39h-9a30.12 30.12 0 0 0 -5 .39 11.8 11.8 0 0 0 -4.17 1.51 9.55 9.55 0 0 0 -3.13 3.13 14 14 0 0 0 -1.79 5.19l-1.46 8.42a13.26 13.26 0 0 0 -.11 5.37 5.9 5.9 0 0 0 1.92 3.24 8.07 8.07 0 0 0 3.7 1.61 27.35 27.35 0 0 0 5.22.44h8.48l-1.52 8.8h-8.7l.89-5.06-13.48 1.77-.54 3.22a13.84 13.84 0 0 0 -.12 5.33 5.67 5.67 0 0 0 1.83 3.24 7.65 7.65 0 0 0 3.62 1.6 28.18 28.18 0 0 0 5.16.42h10.22a30 30 0 0 0 5.24-.42 11.55 11.55 0 0 0 4.2-1.6 9.7 9.7 0 0 0 3.09-3.26 15.9 15.9 0 0 0 1.83-5.34l1.56-9a11.72 11.72 0 0 0 0-5.2 5.72 5.72 0 0 0 -2.16-3.08 8.81 8.81 0 0 0 -3.82-1.5 31.06 31.06 0 0 0 -5.16-.39h-8.49l1.43-8.28h7.78l-.75 4.45 13.24-1.67.55-3.15a11.75 11.75 0 0 0 0-5.2z"/>
  </g>
</svg>
</a>

<input type="checkbox" id="hamburger" class="nav-checkbox"/>
<label class="nav-mobile-button" for="hamburger"><span></span> Menu</label>

<nav class="nav">

  <label class="nav-mobile-button nav-mobile-button--close" for="hamburger"><span></span> close</label>

  <ul class="nav__list ">
    <li>
      <a class="nav__list-link" href="/handbook/introduction">Handbook</a>

      <ul class="nav__sublist "><li>
      <a class="nav__sublist-link" href="/handbook/origin">Preface: The Origin of Stimulus
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/introduction">1: Introduction
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/hello-stimulus">2: Hello, Stimulus
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/building-something-real">3: Building Something Real
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/designing-for-resilience">4: Designing For Resilience
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/managing-state">5: Managing State
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/working-with-external-resources">6: Working With External Resources
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/handbook/installing">7: Installing Stimulus in Your Application
      </a>
    </li></ul>

    </li>
    <li>
      <a class="nav__list-link active" href="/reference/controllers">Reference</a>

      <ul class="nav__sublist  active"><li>
      <a class="nav__sublist-link" href="/reference/controllers">Controllers
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/reference/lifecycle-callbacks">Lifecycle Callbacks
      </a>
    </li><li>
      <a class="nav__sublist-link active" href="/reference/actions">Actions
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/reference/targets">Targets
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/reference/outlets">Outlets
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/reference/values">Values
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/reference/css-classes">CSS Classes
      </a>
    </li><li>
      <a class="nav__sublist-link" href="/reference/using-typescript">Using Typescript
      </a>
    </li></ul>

    </li>
    <li>
      <a class="nav__list-link" href="https://discuss.hotwired.dev" title="Have a question? Connect with other developers on the Stimulus Discourse community forum.">Community</a>
    </li>
    <li>
      <a class="nav__list-link" href="https://github.com/hotwired/stimulus" title="Head over to GitHub for code, bug reports, and pull requests.">Source Code</a>
    </li>
  </ul>

</nav>

  </header>

  <section id="content" class="docs__content grid__custom-item">

    <h1>Actions</h1>
<p><em>Actions</em> are how you handle DOM events in your controllers.</p>
<meta data-controller="callout" data-callout-text-value="click->gallery#next">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>click->gallery#next<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<meta data-controller="callout" data-callout-text-value="next">
<pre class="language-js"><code class="language-js"><span class="token comment">// controllers/gallery_controller.js</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@hotwired/stimulus"</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Controller <span class="token punctuation">{</span><br>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// …</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>An action is a connection between:</p>
<ul>
<li>a controller method</li>
<li>the controller’s element</li>
<li>a DOM event listener</li>
</ul>
<h2 id="descriptors"><a class="anchor" href="#descriptors">﹟</a> Descriptors</h2>
<p>The <code>data-action</code> value <code>click-&gt;gallery#next</code> is called an <em>action descriptor</em>. In this descriptor:</p>
<ul>
<li><code>click</code> is the name of the DOM event to listen for</li>
<li><code>gallery</code> is the controller identifier</li>
<li><code>next</code> is the name of the method to invoke</li>
</ul>
<h3 id="event-shorthand"><a class="anchor" href="#event-shorthand">﹟</a> Event Shorthand</h3>
<p>Stimulus lets you shorten the action descriptors for some common element/event pairs, such as the button/click pair above, by omitting the event name:</p>
<meta data-controller="callout" data-callout-text-value="gallery#next">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery#next<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>The full set of these shorthand pairs is as follows:</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Default Event</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>click</td>
</tr>
<tr>
<td>button</td>
<td>click</td>
</tr>
<tr>
<td>details</td>
<td>toggle</td>
</tr>
<tr>
<td>form</td>
<td>submit</td>
</tr>
<tr>
<td>input</td>
<td>input</td>
</tr>
<tr>
<td>input type=submit</td>
<td>click</td>
</tr>
<tr>
<td>select</td>
<td>change</td>
</tr>
<tr>
<td>textarea</td>
<td>input</td>
</tr>
</tbody>
</table>
<h2 id="keyboardevent-filter"><a class="anchor" href="#keyboardevent-filter">﹟</a> KeyboardEvent Filter</h2>
<p>There may be cases where <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent">KeyboardEvent</a> Actions should only call the Controller method when certain keystrokes are used.</p>
<p>You can install an event listener that responds only to the <code>Escape</code> key by adding <code>.esc</code> to the event name of the action descriptor, as in the following example.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span><br>     <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keydown.esc->modal#close<span class="token punctuation">"</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>This will only work if the event being fired is a keyboard event.</p>
<p>The correspondence between these filter and keys is shown below.</p>
<table>
<thead>
<tr>
<th>Filter</th>
<th>Key Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>enter</td>
<td>Enter</td>
</tr>
<tr>
<td>tab</td>
<td>Tab</td>
</tr>
<tr>
<td>esc</td>
<td>Escape</td>
</tr>
<tr>
<td>space</td>
<td>&quot; &quot;</td>
</tr>
<tr>
<td>up</td>
<td>ArrowUp</td>
</tr>
<tr>
<td>down</td>
<td>ArrowDown</td>
</tr>
<tr>
<td>left</td>
<td>ArrowLeft</td>
</tr>
<tr>
<td>right</td>
<td>ArrowRight</td>
</tr>
<tr>
<td>home</td>
<td>Home</td>
</tr>
<tr>
<td>end</td>
<td>End</td>
</tr>
<tr>
<td>[a-z]</td>
<td>[a-z]</td>
</tr>
<tr>
<td>[0-9]</td>
<td>[0-9]</td>
</tr>
</tbody>
</table>
<p>If you need to support other keys, you can customize the modifiers using a custom schema.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application<span class="token punctuation">,</span> defaultSchema <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@hotwired/stimulus"</span><br><br><span class="token keyword">const</span> customSchema <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token operator">...</span>defaultSchema<span class="token punctuation">,</span><br>  keyMappings<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>defaultSchema<span class="token punctuation">.</span>keyMappings<span class="token punctuation">,</span> at<span class="token operator">:</span> <span class="token string">"@"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> app <span class="token operator">=</span> Application<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">,</span> customSchema<span class="token punctuation">)</span></code></pre>
<p>If you want to subscribe to a compound filter using a modifier key, you can write it like <code>ctrl+a</code>.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keydown.ctrl+a->listbox#selectAll<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option<span class="token punctuation">"</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>The list of supported modifier keys is shown below.</p>
<table>
<thead>
<tr>
<th>Modifier</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>alt</code></td>
<td><code>option</code> on MacOS</td>
</tr>
<tr>
<td><code>ctrl</code></td>
<td></td>
</tr>
<tr>
<td><code>meta</code></td>
<td>Command key on MacOS</td>
</tr>
<tr>
<td><code>shift</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="global-events"><a class="anchor" href="#global-events">﹟</a> Global Events</h3>
<p>Sometimes a controller needs to listen for events dispatched on the global <code>window</code> or <code>document</code> objects.</p>
<p>You can append <code>@window</code> or <code>@document</code> to the event name (along with any filter modifer) in an action descriptor to install the event listener on <code>window</code> or <code>document</code>, respectively, as in the following example:</p>
<meta data-controller="callout" data-callout-text-value="resize@window">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery<span class="token punctuation">"</span></span><br>     <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resize@window->gallery#layout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3 id="options"><a class="anchor" href="#options">﹟</a> Options</h3>
<p>You can append one or more <em>action options</em> to an action descriptor if you need to specify <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters">DOM event listener options</a>.</p>
<meta data-controller="callout" data-callout-text-value=":!passive">
<meta data-controller="callout" data-callout-text-value=":capture">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery<span class="token punctuation">"</span></span><br>     <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scroll->gallery#layout:!passive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>click->gallery#open:capture<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>Stimulus supports the following action options:</p>
<table>
<thead>
<tr>
<th>Action option</th>
<th>DOM event listener option</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:capture</code></td>
<td><code>{ capture: true }</code></td>
</tr>
<tr>
<td><code>:once</code></td>
<td><code>{ once: true }</code></td>
</tr>
<tr>
<td><code>:passive</code></td>
<td><code>{ passive: true }</code></td>
</tr>
<tr>
<td><code>:!passive</code></td>
<td><code>{ passive: false }</code></td>
</tr>
</tbody>
</table>
<p>On top of that, Stimulus also supports the following action options which are not natively supported by the DOM event listener options:</p>
<table>
<thead>
<tr>
<th>Custom action option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:stop</code></td>
<td>calls <code>.stopPropagation()</code> on the event before invoking the method</td>
</tr>
<tr>
<td><code>:prevent</code></td>
<td>calls <code>.preventDefault()</code> on the event before invoking the method</td>
</tr>
<tr>
<td><code>:self</code></td>
<td>only invokes the method if the event was fired by the element itself</td>
</tr>
</tbody>
</table>
<p>You can register your own action options with the <code>Application.registerActionOption</code> method.</p>
<p>For example, consider that a <code>&lt;details&gt;</code> element will dispatch a <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLDetailsElement/toggle_event">toggle</a>
event whenever it’s toggled. A custom <code>:open</code> action option would help
to route events whenever the element is toggled <em>open</em>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@hotwired/stimulus"</span><br><br><span class="token keyword">const</span> application <span class="token operator">=</span> Application<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>application<span class="token punctuation">.</span><span class="token function">registerActionOption</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> event <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">"toggle"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>open <span class="token operator">==</span> <span class="token boolean">true</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token boolean">true</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Similarly, a custom <code>:!open</code> action option could route events whenever the
element is toggled <em>closed</em>. Declaring the action descriptor option with a <code>!</code>
prefix will yield a <code>value</code> argument set to <code>false</code> in the callback:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@hotwired/stimulus"</span><br><br><span class="token keyword">const</span> application <span class="token operator">=</span> Application<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>application<span class="token punctuation">.</span><span class="token function">registerActionOption</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> event<span class="token punctuation">,</span> value <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">"toggle"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>open <span class="token operator">==</span> value<br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token boolean">true</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>In order to prevent the event from being routed to the controller action, the
<code>registerActionOption</code> callback function must return <code>false</code>. Otherwise, to
route the event to the controller action, return <code>true</code>.</p>
<p>The callback accepts a single object argument with the following keys:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String: The option’s name (<code>&quot;open&quot;</code> in the example above)</td>
</tr>
<tr>
<td>value</td>
<td>Boolean: The value of the option (<code>:open</code> would yield <code>true</code>, <code>:!open</code> would yield <code>false</code>)</td>
</tr>
<tr>
<td>event</td>
<td><a href="https://developer.mozilla.org/en-US/docs/web/api/event">Event</a>: The event instance</td>
</tr>
<tr>
<td>element</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/API/element">Element</a>: The element where the action descriptor is declared</td>
</tr>
</tbody>
</table>
<h2 id="event-objects"><a class="anchor" href="#event-objects">﹟</a> Event Objects</h2>
<p>An <em>action method</em> is the method in a controller which serves as an action’s event listener.</p>
<p>The first argument to an action method is the DOM <em>event object</em>. You may want access to the event for a number of reasons, including:</p>
<ul>
<li>to read the key code from a keyboard event</li>
<li>to read the coordinates of a mouse event</li>
<li>to read data from an input event</li>
<li>to read params from the action submitter element</li>
<li>to prevent the browser’s default behavior for an event</li>
<li>to find out which element dispatched an event before it bubbled up to this action</li>
</ul>
<p>The following basic properties are common to all events:</p>
<table>
<thead>
<tr>
<th>Event Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>event.type</td>
<td>The name of the event (e.g. <code>&quot;click&quot;</code>)</td>
</tr>
<tr>
<td>event.target</td>
<td>The target that dispatched the event (i.e. the innermost element that was clicked)</td>
</tr>
<tr>
<td>event.currentTarget</td>
<td>The target on which the event listener is installed (either the element with the <code>data-action</code> attribute, or <code>document</code> or <code>window</code>)</td>
</tr>
<tr>
<td>event.params</td>
<td>The action params passed by the action submitter element</td>
</tr>
</tbody>
</table>
<p><br>The following event methods give you more control over how events are handled:</p>
<table>
<thead>
<tr>
<th>Event Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>event.preventDefault()</td>
<td>Cancels the event’s default behavior (e.g. following a link or submitting a form)</td>
</tr>
<tr>
<td>event.stopPropagation()</td>
<td>Stops the event before it bubbles up to other listeners on parent elements</td>
</tr>
</tbody>
</table>
<h2 id="multiple-actions"><a class="anchor" href="#multiple-actions">﹟</a> Multiple Actions</h2>
<p>The <code>data-action</code> attribute’s value is a space-separated list of action descriptors.</p>
<p>It’s common for any given element to have many actions. For example, the following input element calls a <code>field</code> controller’s <code>highlight()</code> method when it gains focus, and a <code>search</code> controller’s <code>update()</code> method every time the element’s value changes:</p>
<meta data-controller="callout" data-callout-text-value="focus->field#highlight">
<meta data-controller="callout" data-callout-text-value="input->search#update">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>focus->field#highlight input->search#update<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>When an element has more than one action for the same event, Stimulus invokes the actions from left to right in the order that their descriptors appear.</p>
<p>The action chain can be stopped at any point by calling <code>Event#stopImmediatePropagation()</code> within an action. Any additional actions to the right will be ignored:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function-variable function">highlight</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  event<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token comment">// ...</span><br><span class="token punctuation">}</span></code></pre>
<h2 id="naming-conventions"><a class="anchor" href="#naming-conventions">﹟</a> Naming Conventions</h2>
<p>Always use camelCase to specify action names, since they map directly to methods on your controller.</p>
<p>Avoid action names that simply repeat the event’s name, such as <code>click</code>, <code>onClick</code>, or <code>handleClick</code>:</p>
<meta data-controller="callout" data-callout-text-value="#click" data-callout-type-value="avoid">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>click->profile#click<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Don't<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>Instead, name your action methods based on what will happen when they’re called:</p>
<meta data-controller="callout" data-callout-text-value="#showDialog" data-callout-type-value="prefer">
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>click->profile#showDialog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Do<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>This will help you reason about the behavior of a block of HTML without having to look at the controller source.</p>
<h2 id="action-parameters"><a class="anchor" href="#action-parameters">﹟</a> Action Parameters</h2>
<p>Actions can have parameters that are be passed from the submitter element. They follow the format of <code>data-[identifier]-[param-name]-param</code>. Parameters must be specified on the same element as the action they intend to be passed to is declared.</p>
<p>All parameters are automatically typecast to either a <code>Number</code>, <code>String</code>, <code>Object</code>, or <code>Boolean</code>, inferred by their value:</p>
<table>
<thead>
<tr>
<th>Data attribute</th>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data-item-id-param=&quot;12345&quot;</code></td>
<td><code>12345</code></td>
<td>Number</td>
</tr>
<tr>
<td><code>data-item-url-param=&quot;/votes&quot;</code></td>
<td><code>&quot;/votes&quot;</code></td>
<td>String</td>
</tr>
<tr>
<td><code>data-item-payload-param='{&quot;value&quot;:&quot;1234567&quot;}'</code></td>
<td><code>{ value: 1234567 }</code></td>
<td>Object</td>
</tr>
<tr>
<td><code>data-item-active-param=&quot;true&quot;</code></td>
<td><code>true</code></td>
<td>Boolean</td>
</tr>
</tbody>
</table>
<p><br>Consider this setup:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item spinner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item#upvote spinner#start<span class="token punctuation">"</span></span> <br>    <span class="token attr-name">data-item-id-param</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12345<span class="token punctuation">"</span></span> <br>    <span class="token attr-name">data-item-url-param</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/votes<span class="token punctuation">"</span></span><br>    <span class="token attr-name">data-item-payload-param</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{<span class="token punctuation">"</span>value<span class="token punctuation">"</span>:<span class="token punctuation">"</span>1234567<span class="token punctuation">"</span>}<span class="token punctuation">'</span></span> <br>    <span class="token attr-name">data-item-active-param</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>It will call both <code>ItemController#upvote</code> and <code>SpinnerController#start</code>, but only the former will have any parameters passed to it:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// ItemController</span><br><span class="token function">upvote</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// { id: 12345, url: "/votes", active: true, payload: { value: 1234567 } }</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>params<span class="token punctuation">)</span> <br><span class="token punctuation">}</span><br><br><span class="token comment">// SpinnerController</span><br><span class="token function">start</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// {}</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>params<span class="token punctuation">)</span> <br><span class="token punctuation">}</span></code></pre>
<p>If we don’t need anything else from the event, we can destruct the params:</p>
<pre class="language-js"><code class="language-js"><span class="token function">upvote</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// { id: 12345, url: "/votes", active: true, payload: { value: 1234567 } }</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <br><span class="token punctuation">}</span></code></pre>
<p>Or destruct only the params we need, in case multiple actions on the same controller share the same submitter element:</p>
<pre class="language-js"><code class="language-js"><span class="token function">upvote</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> url <span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">// 12345</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token comment">// "/votes"</span><br><span class="token punctuation">}</span></code></pre>
<p><a class="button" href="/reference/targets">Next: Targets</a></p></section>

  <footer class="docs__footer grid__item grid__item--start-4 grid__item--span-8">

    <footer class="footer">
  <p class="footer__headline">Brought to you by the makers of:</p>
  <ul class="footer__links">
    <li><a href="https://basecamp.com" target="_blank" rel="noopener"><img width="253" height="56" src="/assets/logo-basecamp.svg" alt="Basecamp"></a></li>
    <li><span>and</span></li>
    <li><a href="https://hey.com" target="_blank" rel="noopener"><img width="122" height="56" src="/assets/logo-hey.svg" alt="HEY"></a></li>
  </ul>
  <p class="footer__copyright">&copy; 2023 <a href="https://37signals.com" target="_blank" rel="noopener">37signals</a></p>
</footer>


  </footer>

</main>


  </body>

</html>
